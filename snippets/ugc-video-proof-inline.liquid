{% liquid
  assign has_content = false
  if video != blank or image != blank or link != blank or caption != blank
    assign has_content = true
  endif
%}

{% if has_content %}
  <article class="opc-ugc-card" aria-label="UGC proof item {{ index }}">
    <div class="opc-ugc-media">
      {% if video != blank %}
        {{
          video
          | video_tag:
            controls: false,
            autoplay: true,
            loop: true,
            muted: true,
            preload: 'auto',
            playsinline: true,
            image_size: '1200x'
        }}
      {% elsif image != blank %}
        {{
          image
          | image_url: width: 1200
          | image_tag:
            loading: 'lazy',
            widths: '320, 480, 720, 960, 1200',
            sizes: '(min-width: 990px) 25vw, 50vw',
            alt: caption | default: 'UGC proof image'
        }}
      {% else %}
        <div class="opc-media-placeholder">Add UGC video or image</div>
      {% endif %}
    </div>

    <div class="opc-ugc-content">
      {% if caption != blank %}
        <p class="opc-ugc-caption">{{ caption }}</p>
      {% endif %}

      <!-- PATCH START -->
      {% comment %}External source links intentionally suppressed on storefront.{% endcomment %}
      <!-- PATCH END -->
    </div>
  </article>
{% endif %}

